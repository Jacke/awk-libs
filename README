AWK library function descriptions

These libs are written for GNU awk 4.0 and newer



int_math.awk

  ceil(multiple, number)
    returns "number" rounded UP to the nearest multiple of "multiple"

  floor(multiple, number)
    returns "number" rounded DOWN to the nearest multiple of "multiple"

  round(multiple, number)
    returns "number" rounded to the nearest multiple of "multiple"

  change_base(number, start_base, end_base)
    converts "number" from "start_base" to "end_base"
    bases must be between 2 and 64. the digits greater than 9 are represented
    by the lowercase letters, the uppercase letters, @, and _, in that order.
    if ibase is less than or equal to 36, lowercase and uppercase letters may
    be used interchangeably to represent numbers between 10 and 35.
    returns 0 if any argument is invalid

  calc_pi()
    returns pi, with an accuracy of 10 decimal places

  calc_e()
    approximates e by calculating the sumation from k=0 to k=50 of 1/k!
    returns 10 decimal places



strings.awk

  shell_escape(string)
    returns the string escaped so that it can be used in a shell command

  ssub(ere, repl[, in])
    behaves like sub, except returns the result and doesn't modify "in"

  sgsub(ere, repl[, in])
    behaves like gsub, except returns the result and doesn't modify "in"

  str_to_arr(string, array)
    converts string to an array, one char per element, 1-indexed
    returns the array length

  trim(string)
    returns "string" with leading and trailing whitespace trimmed

  rev(string)
    returns "string" backwards

  qsplit(string, array [, sep [, qualifier] ])
    a version of split() designed for CSV-like data. splits "string" on "sep"
    (, if not provided), into array[1], array[2], ... array[n]. returns "n".
    both "sep" and "qualifier" will use the first character in the provided
    string. uses "qualifier" (" if not provided) and ignores "sep" within
    quoted fields. for example, foo,"bar,baz",blah will be split as such:
    array[1] = "foo"; array[2] = "bar,baz"; array[3] = "blah";
    currently, mid-field qualifiers are ignored



times.awk

  month_to_num(month)
    converts human readable month to the decimal representation
    returns the number, -1 if the month doesn't exist

  day_to_num(day)
    converts human readable day to the decimal representation
    returns the number, -1 if the day doesn't exist

  hr_to_sec(timestamp)
    converts HH:MM:SS to seconds, returns -1 if invalid format

  sec_to_hr(seconds)
    converts seconds to HH:MM:SS

